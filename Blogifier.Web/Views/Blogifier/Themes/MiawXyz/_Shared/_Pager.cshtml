@using Blogifier.Core.Common
@model Pager

@{
    var currentPageMinus2 = Model.CurrentPage - 2;
    var currentPageMinus1 = Model.CurrentPage - 1;
    var currentPage = Model.CurrentPage;
    var currentPagePlus1 = Model.CurrentPage + 1;
    var currentPagePlus2 = Model.CurrentPage + 2;

    bool showPreviousDots = false;
    if (currentPageMinus2 > 2 )
    {
        showPreviousDots = true;
    }

    bool showAfterDots = false;
    if (currentPagePlus2 < Model.LastPage - 1 )
    {
        showAfterDots = true;
    }
}

@if (Model != null)
{
    <nav aria-label="Page navigation">
        <ul class="pagination">

            <li class="page-item @( Model.ShowNewer ? "" : "disabled" )"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@Model.Newer" aria-label="Previous"><span aria-hidden="true"><i class="fa fa-angle-left"></i></span></a></li>

            
            @if (1 != currentPage)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=1">1</a></li>
            }

            @if (showPreviousDots)
            {
            <li class="separate"><span>...</span></li>
            }

            @if (currentPageMinus2 > 1)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@currentPageMinus2">@currentPageMinus2</a></li>
            }

            @if (currentPageMinus1 > 1)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@currentPageMinus1">@currentPageMinus1</a></li>
            }

            <li class="page-item active"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@currentPage">@currentPage</a></li>

            @if (currentPagePlus1 < Model.LastPage)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@currentPagePlus1">@currentPagePlus1</a></li>
            }

            @if (currentPagePlus2 < Model.LastPage)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@currentPagePlus2">@currentPagePlus2</a></li>
            }

            @*<li class="page-item"><a class="page-link" href="#">2</a></li>
            <li class="page-item"><a class="page-link" href="#">3</a></li>
            <li class="page-item"><a class="page-link" href="#">4</a></li>
            <li class="page-item"><a class="page-link" href="#">5</a></li>
            <li class="separate"><span>...</span></li>*@

            @if (showAfterDots)
            {
            <li class="separate"><span>...</span></li>
            }

            @if (Model.LastPage != currentPage)
            {
            <li class="page-item"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@Model.LastPage">@Model.LastPage</a></li>
            }

            <li class="page-item @( Model.ShowOlder ? "" : "disabled" )"><a class="page-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@Model.Older" aria-label="Next"><span aria-hidden="true"><i class="fa fa-angle-right"></i></span></a></li>
        </ul>
    </nav>

    @*@if (Model.ShowOlder || Model.ShowNewer)
        {
            <ul class="pagination justify-content-center">
                @if (Model.ShowOlder)
                {
                    <li class="item item-prev"><a class="item-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@Model.Older"><i class="item-icon fa fa-angle-left"></i></a></li>
                }
                @if (Model.ShowNewer)
                {
                    <li class="item item-next"><a class="item-link" href="~/@ApplicationSettings.BlogRoute@Model.RouteValue?page=@Model.Newer"><i class="item-icon fa fa-angle-right"></i></a></li>
                }
            </ul>
        }*@
}